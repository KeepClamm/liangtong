<template>
  <div class='flow-artboard'>
    <div class="flow-artboard" id="Timeline">
      <div class="flow-layer 形状">
        <svg class="形状-svg">
          <title>形状</title>
          <desc>Made with Flow.</desc>

          <path id="形状-path" vector-effect="non-scaling-stroke"
            d="M16.7,9.872c0,3.315,-0.943,5.853,-2.83,7.615 -1.887,1.762,-4.61,2.643,-8.169,2.644 0,0,-5.701,0,-5.701,0 0,0,0,-20.13,0,-20.13 0,0,6.319,0,6.319,0 3.285,0,5.836,0.868,7.654,2.603 1.818,1.735,2.727,4.158,2.727,7.269 0,0,0,0,0,0zM12.267,9.983c0,-4.323,-1.909,-6.485,-5.728,-6.485 0,0,-2.271,0,-2.271,0 0,0,0,13.108,0,13.108 0,0,1.831,0,1.831,0 4.111,0,6.167,-2.207,6.168,-6.622 0,0,0,0,0,0zM12.267,9.983">
          </path>
        </svg>
        <div class="flow-border 形状-border"></div>
      </div>

      <div class="flow-layer 形状_1">
        <svg class="形状_1-svg">
          <title>形状</title>
          <desc>Made with Flow.</desc>

          <path id="形状_1-path" vector-effect="non-scaling-stroke"
            d="M7.902,15.96c-2.479,0,-4.416,-0.684,-5.81,-2.053 -1.395,-1.369,-2.092,-3.305,-2.092,-5.81 0,-2.58,0.645,-4.575,1.934,-5.984 1.29,-1.41,3.072,-2.114,5.348,-2.113 2.175,0,3.868,0.62,5.08,1.859 1.211,1.24,1.817,2.952,1.818,5.136 0,0,0,2.037,0,2.037 0,0,-9.926,0,-9.926,0 0.045,1.192,0.398,2.124,1.059,2.794 0.661,0.671,1.588,1.006,2.782,1.005 0.926,0,1.802,-0.096,2.629,-0.289 0.826,-0.193,1.689,-0.5,2.588,-0.922 0,0,0,3.251,0,3.251 -0.747,0.372,-1.538,0.647,-2.354,0.82 -0.835,0.178,-1.853,0.267,-3.055,0.268 0,0,0,0,0,0zM7.31,2.988c-0.89,0,-1.588,0.282,-2.094,0.846 -0.506,0.564,-0.795,1.365,-0.867,2.403 0,0,5.893,0,5.893,0 -0.019,-1.037,-0.29,-1.839,-0.813,-2.403 -0.523,-0.565,-1.229,-0.847,-2.12,-0.846">
          </path>
        </svg>
        <div class="flow-border 形状_1-border"></div>
      </div>

      <div class="flow-layer 矩形">
        <svg class="矩形-svg">
          <title>矩形</title>
          <desc>Made with Flow.</desc>

          <path id="矩形-path" vector-effect="non-scaling-stroke"
            d="M4.2,0c0,0,-4.2,0,-4.2,0 0,0,0,21.42,0,21.42 0,0,4.2,0,4.2,0 0,0,0,-21.42,0,-21.42 0,0,0,0,0,0zM4.2,0">
          </path>
        </svg>
        <div class="flow-border 矩形-border"></div>
      </div>

      <div class="flow-layer 形状_2">
        <svg class="形状_2-svg">
          <title>形状</title>
          <desc>Made with Flow.</desc>

          <path id="形状_2-path" vector-effect="non-scaling-stroke"
            d="M14.92,7.959c0,2.505,-0.661,4.465,-1.982,5.879 -1.321,1.415,-3.161,2.122,-5.52,2.121 -1.476,0,-2.779,-0.324,-3.909,-0.972 -1.13,-0.648,-1.997,-1.578,-2.601,-2.79 -0.606,-1.211,-0.909,-2.624,-0.908,-4.24 0,-2.515,0.656,-4.471,1.969,-5.866 1.313,-1.396,3.157,-2.093,5.532,-2.092 1.477,0,2.78,0.322,3.909,0.965 1.128,0.643,1.996,1.566,2.602,2.768 0.605,1.202,0.908,2.611,0.909,4.227M4.28,7.959c0,1.523,0.25,2.675,0.75,3.456 0.5,0.781,1.314,1.171,2.443,1.169 1.12,0,1.926,-0.388,2.417,-1.163 0.491,-0.775,0.736,-1.929,0.736,-3.462 0,-1.523,-0.248,-2.666,-0.744,-3.429 -0.496,-0.763,-1.308,-1.143,-2.436,-1.142 -1.119,0,-1.926,0.378,-2.422,1.135 -0.496,0.757,-0.744,1.902,-0.744,3.437">
          </path>
        </svg>
        <div class="flow-border 形状_2-border"></div>
      </div>

      <div class="flow-layer 形状_3">
        <svg class="形状_3-svg">
          <title>形状</title>
          <desc>Made with Flow.</desc>

          <path id="形状_3-path" vector-effect="non-scaling-stroke"
            d="M0,2.052c0,-1.368,0.761,-2.052,2.284,-2.052 1.523,0,2.285,0.684,2.286,2.052 0,0.651,-0.191,1.158,-0.572,1.521 -0.381,0.364,-0.952,0.545,-1.714,0.543 -1.523,0,-2.284,-0.688,-2.284,-2.064 0,0,-0,0,-0,0 0,0,0,0,0,0zM4.377,21.42c0,0,-4.198,0,-4.198,0 0,0,0,-15.391,0,-15.391 0,0,4.197,0,4.197,0 0,0,0,15.391,0,15.391 0,0,0,0,0,0zM4.377,21.42">
          </path>
        </svg>
        <div class="flow-border 形状_3-border"></div>
      </div>

      <div class="flow-layer 路径">
        <svg class="路径-svg">
          <title>路径</title>
          <desc>Made with Flow.</desc>

          <path id="路径-path" vector-effect="non-scaling-stroke"
            d="M8.037,15.595c0.734,0,1.615,-0.16,2.643,-0.481 0,0,0,3.125,0,3.125 -1.046,0.469,-2.331,0.703,-3.854,0.702 -1.679,0,-2.901,-0.425,-3.667,-1.274 -0.766,-0.849,-1.149,-2.122,-1.149,-3.818 0,0,0,-7.421,0,-7.421 0,0,-2.009,0,-2.009,0 0,0,0,-1.775,0,-1.775 0,0,2.31,-1.403,2.31,-1.403 0,0,1.212,-3.249,1.212,-3.249 0,0,2.684,0,2.684,0 0,0,0,3.275,0,3.275 0,0,4.308,0,4.308,0 0,0,0,3.152,0,3.152 0,0,-4.309,0,-4.309,0 0,0,0,7.42,0,7.42 0,0.595,0.168,1.037,0.502,1.322 0.335,0.284,0.779,0.427,1.329,0.427">
          </path>
        </svg>
        <div class="flow-border 路径-border"></div>
      </div>

      <div class="flow-layer 路径_1">
        <svg class="路径_1-svg">
          <title>路径</title>
          <desc>Made with Flow.</desc>

          <path id="路径_1-path" vector-effect="non-scaling-stroke"
            d="M8.037,15.595c0.734,0,1.615,-0.16,2.643,-0.481 0,0,0,3.124,0,3.124 -1.046,0.469,-2.33,0.703,-3.854,0.702 -1.679,0,-2.901,-0.425,-3.667,-1.274 -0.766,-0.849,-1.149,-2.122,-1.149,-3.818 0,0,0,-7.42,0,-7.42 0,0,-2.01,0,-2.01,0 0,0,0,-1.775,0,-1.775 0,0,2.311,-1.405,2.311,-1.405 0,0,1.212,-3.248,1.212,-3.248 0,0,2.684,0,2.684,0 0,0,0,3.276,0,3.276 0,0,4.309,0,4.309,0 0,0,0,3.152,0,3.152 0,0,-4.309,0,-4.309,0 0,0,0,7.42,0,7.42 0,0.595,0.168,1.037,0.502,1.321 0.335,0.284,0.779,0.427,1.329,0.427">
          </path>
        </svg>
        <div class="flow-border 路径_1-border"></div>
      </div>

      <div class="flow-layer 形状_4">
        <svg class="形状_4-svg">
          <title>形状</title>
          <desc>Made with Flow.</desc>

          <path id="形状_4-path" vector-effect="non-scaling-stroke"
            d="M7.902,15.96c-2.479,0,-4.416,-0.684,-5.81,-2.053 -1.395,-1.369,-2.092,-3.305,-2.092,-5.81 0,-2.58,0.645,-4.575,1.934,-5.984 1.29,-1.41,3.072,-2.114,5.348,-2.113 2.175,0,3.868,0.62,5.08,1.859 1.211,1.24,1.817,2.952,1.818,5.136 0,0,0,2.037,0,2.037 0,0,-9.926,0,-9.926,0 0.045,1.192,0.398,2.124,1.059,2.794 0.661,0.671,1.588,1.006,2.782,1.005 0.926,0,1.802,-0.096,2.629,-0.289 0.826,-0.193,1.689,-0.5,2.588,-0.922 0,0,0,3.251,0,3.251 -0.747,0.372,-1.538,0.648,-2.354,0.82 -0.835,0.178,-1.853,0.267,-3.055,0.268 0,0,0,0,0,0zM7.31,2.988c-0.89,0,-1.588,0.282,-2.093,0.846 -0.506,0.564,-0.795,1.365,-0.866,2.403 0,0,5.892,0,5.892,0 -0.019,-1.037,-0.29,-1.839,-0.813,-2.403 -0.523,-0.565,-1.229,-0.847,-2.12,-0.846 0,0,0,0,0,0zM7.31,2.988">
          </path>
        </svg>
        <div class="flow-border 形状_4-border"></div>
      </div>

      <div class="flow-layer 椭圆形">
        <svg class="椭圆形-svg">
          <title>椭圆形</title>
          <desc>Made with Flow.</desc>

          <path id="椭圆形-path" vector-effect="non-scaling-stroke"
            d="M3.89,7.78c2.148,0,3.89,-1.742,3.89,-3.89 0,-2.148,-1.742,-3.89,-3.89,-3.89 -2.148,0,-3.89,1.742,-3.89,3.89 0,2.148,1.742,3.89,3.89,3.89 0,0,0,0,0,0zM3.89,7.78">
          </path>
        </svg>
        <div class="flow-border 椭圆形-border"></div>
      </div>

      <div class="flow-layer rectangle_2070">
        <svg class="rectangle_2070-svg">
          <title>Rectangle 2070</title>
          <desc>Made with Flow.</desc>

          <path id="rectangle_2070-path" vector-effect="non-scaling-stroke"
            d="M0,0c0,0,0.98,0,0.98,0 0,0,0,20.31,0,20.31 0,0,-0.98,0,-0.98,0 0,0,0,-20.31,0,-20.31zM0,0">
          </path>
        </svg>
        <div class="flow-border rectangle_2070-border"></div>
      </div>

      <div class="flow-layer union">
        <svg class="union-svg">
          <title>Union</title>
          <desc>Made with Flow.</desc>

          <path id="union-path" vector-effect="non-scaling-stroke"
            d="M64.185,22.12c1.914,0,3.376,-0.302,4.383,-0.907 0,0,-0.05,0,-0.05,0 0,0,0,-3.477,0,-3.477 -1.108,0.756,-2.217,1.108,-3.376,1.108 -1.31,0,-2.318,-0.403,-3.073,-1.159 -0.756,-0.756,-1.108,-1.814,-1.108,-3.174 0,-1.36,0.403,-2.469,1.209,-3.275 0.806,-0.806,1.864,-1.209,3.174,-1.209 1.159,0,2.217,0.353,3.224,1.058 0,0,0,-3.678,0,-3.678 -0.806,-0.453,-2.066,-0.705,-3.728,-0.705 -2.469,0,-4.434,0.705,-5.945,2.167 -1.461,1.411,-2.217,3.376,-2.217,5.895 0,2.167,0.705,3.93,2.066,5.291 1.411,1.36,3.174,2.066,5.441,2.066 0,0,0,0,0,0zM80.811,21.767c0,0,5.189,0,5.189,0 0,0,-5.794,-7.76,-5.794,-7.76 0,0,5.441,-6.953,5.441,-6.953 0,0,-5.139,0,-5.139,0 0,0,-4.585,6.802,-4.585,6.802 0,0,-0.05,0,-0.05,0 0,0,0,-13.856,0,-13.856 0,0,-4.282,0,-4.282,0 0,0,0,21.767,0,21.767 0,0,4.282,0,4.282,0 0,0,0,-7.256,0,-7.256 0,0,0.05,0,0.05,0 0,0,4.887,7.256,4.887,7.256 0,0,0,0,0,0zM0,6.652c0,0,0,14.713,0,14.713 0,0,4.282,0,4.282,0 0,0,0,-14.713,0,-14.713 0,0,-4.282,0,-4.282,0 0,0,0,0,0,0zM7.708,16.256c-0.034,-0.027,-0.067,-0.054,-0.101,-0.082 0,0,0.101,0,0.101,0 0,0,0,0.082,0,0.082 0,0,0,0,0,0zM13.25,18.241c-2.073,0,-3.905,-0.677,-5.542,-1.984 0,0,0,4.353,0,4.353 1.511,0.756,3.426,1.159,5.794,1.159 2.569,0,4.534,-0.504,5.945,-1.562 1.411,-1.058,2.116,-2.57,2.116,-4.535 0,-1.36,-0.403,-2.519,-1.159,-3.477 -0.756,-0.957,-2.166,-1.915,-4.232,-2.771 -1.713,-0.756,-2.821,-1.36,-3.275,-1.814 -0.453,-0.453,-0.655,-0.907,-0.655,-1.461 0,-0.705,0.302,-1.209,0.957,-1.612 0.605,-0.403,1.511,-0.605,2.57,-0.605 1.814,0,3.476,0.453,4.837,1.411 0,0,0,-4.132,0,-4.132 -1.411,-0.554,-3.073,-0.806,-5.088,-0.806 -2.418,0,-4.333,0.554,-5.794,1.612 -1.461,1.109,-2.166,2.57,-2.166,4.484 0,2.62,1.612,4.585,4.837,5.946 2.015,0.857,3.325,1.512,3.779,2.015 0.453,0.453,0.705,1.008,0.705,1.562 0,0.655,-0.302,1.209,-0.907,1.612 -0.605,0.403,-1.511,0.605,-2.721,0.605 0,0,0,0,0,0zM29.523,21.768c1.31,0,2.267,-0.202,2.922,-0.554 0,0,0.05,0,0.05,0 0,0,0,-3.174,0,-3.174 -0.554,0.252,-1.058,0.403,-1.511,0.403 -1.26,0,-1.864,-0.806,-1.864,-2.368 0,0,0,-6.198,0,-6.198 0,0,3.325,0,3.325,0 0,0,0,-3.225,0,-3.225 0,0,-3.375,0,-3.375,0 0,0,0,-4.434,0,-4.434 0,0,-4.232,1.209,-4.232,1.209 0,0,0,3.225,0,3.225 0,0,-2.418,0,-2.418,0 0,0,0,3.225,0,3.225 0,0,2.418,0,2.418,0 0,0,0,6.953,0,6.953 0,3.275,1.562,4.938,4.686,4.938 0,0,0,0,0,0zM29.523,21.768">
          </path>
        </svg>
        <div class="flow-border union-border"></div>
      </div>

      <div class="flow-layer vector">
        <svg class="vector-svg">
          <title>Vector</title>
          <desc>Made with Flow.</desc>

          <path id="vector-path" vector-effect="non-scaling-stroke"
            d="M0.707,0.674c-0.455,0.449,-0.707,1.067,-0.707,1.798 0,0.73,0.253,1.292,0.707,1.798 0.455,0.506,1.061,0.73,1.768,0.73 0.758,0,1.364,-0.225,1.818,-0.674 0.455,-0.449,0.707,-1.067,0.707,-1.798 0,-0.73,-0.253,-1.348,-0.707,-1.798 -0.455,-0.506,-1.061,-0.73,-1.818,-0.73 -0.707,0,-1.313,0.225,-1.768,0.674 0,0,0,0,0,0zM0.707,0.674">
          </path>
        </svg>
        <div class="flow-border vector-border"></div>
      </div>

      <div class="flow-layer i">
        <svg class="i-svg">
          <title>i</title>
          <desc>Made with Flow.</desc>

          <path id="i-path" vector-effect="non-scaling-stroke"
            d="M0,0c0,0,0,14.71,0,14.71 0,0,4.28,0,4.28,0 0,0,0,-14.71,0,-14.71 0,0,-4.28,0,-4.28,0 0,0,0,0,0,0zM0,0">
          </path>
        </svg>
        <div class="flow-border i-border"></div>
      </div>

      <div class="flow-layer s">
        <svg class="s-svg">
          <title>s</title>
          <desc>Made with Flow.</desc>

          <path id="s-path" vector-effect="non-scaling-stroke"
            d="M0.151,15.85c-0.034,-0.027,-0.067,-0.054,-0.101,-0.081 0,0,0.101,0,0.101,0 0,0,0,0.081,0,0.081 0,0,0,0,0,0zM5.695,17.834c-2.074,0,-3.906,-0.677,-5.544,-1.984 0,0,0,4.352,0,4.352 1.512,0.756,3.427,1.159,5.795,1.159 2.57,0,4.536,-0.504,5.947,-1.562 1.411,-1.058,2.117,-2.569,2.117,-4.534 0,-1.36,-0.403,-2.519,-1.159,-3.476 -0.756,-0.957,-2.167,-1.914,-4.233,-2.771 -1.713,-0.756,-2.822,-1.36,-3.276,-1.814 -0.454,-0.453,-0.655,-0.907,-0.655,-1.461 0,-0.705,0.302,-1.209,0.958,-1.612 0.605,-0.403,1.512,-0.605,2.57,-0.605 1.814,0,3.477,0.453,4.838,1.411 0,0,0,-4.131,0,-4.131 -1.411,-0.554,-3.074,-0.806,-5.09,-0.806 -2.419,0,-4.334,0.554,-5.796,1.612 -1.461,1.108,-2.167,2.569,-2.167,4.484 0,2.62,1.613,4.584,4.838,5.945 2.016,0.856,3.326,1.511,3.78,2.015 0.454,0.453,0.706,1.008,0.706,1.562 0,0.655,-0.302,1.209,-0.907,1.612 -0.605,0.403,-1.512,0.605,-2.721,0.605 0,0,0,0,0,0zM5.695,17.834">
          </path>
        </svg>
        <div class="flow-border s-border"></div>
      </div>

      <div class="flow-layer t">
        <svg class="t-svg">
          <title>t</title>
          <desc>Made with Flow.</desc>

          <path id="t-path" vector-effect="non-scaling-stroke"
            d="M7.106,19.55c1.31,0,2.268,-0.202,2.923,-0.554 0,0,0.05,0,0.05,0 0,0,0,-3.174,0,-3.174 -0.554,0.252,-1.058,0.403,-1.512,0.403 -1.26,0,-1.865,-0.806,-1.865,-2.368 0,0,0,-6.198,0,-6.198 0,0,3.326,0,3.326,0 0,0,0,-3.225,0,-3.225 0,0,-3.377,0,-3.377,0 0,0,0,-4.434,0,-4.434 0,0,-4.234,1.209,-4.234,1.209 0,0,0,3.225,0,3.225 0,0,-2.419,0,-2.419,0 0,0,0,3.225,0,3.225 0,0,2.419,0,2.419,0 0,0,0,6.953,0,6.953 0,3.275,1.562,4.938,4.687,4.938 0,0,0,0,0,0zM7.106,19.55">
          </path>
        </svg>
        <div class="flow-border t-border"></div>
      </div>

      <div class="flow-layer union_1">
        <svg class="union_1-svg">
          <title>Union</title>
          <desc>Made with Flow.</desc>

          <path id="union_1-path" vector-effect="non-scaling-stroke"
            d="M0,9.725c0,-5.341,4.584,-9.725,10.175,-9.725 5.591,0,10.175,4.384,10.175,9.725 0,5.341,-4.533,9.725,-10.175,9.725 -5.642,0,-10.175,-4.333,-10.175,-9.725 0,0,0,0,0,0zM10.175,17.334c4.382,0,7.959,-3.426,7.959,-7.609 0,-4.182,-3.576,-7.609,-7.959,-7.609 -4.382,0,-7.959,3.426,-7.959,7.609 0,4.182,3.576,7.609,7.959,7.609 0,0,0,0,0,0zM12.038,5.845c0,0,3.425,0,3.425,0 0,0,0.05,0,0.101,0.05 0.302,0,0.605,0.101,0.806,0.302 0.201,0.202,0.302,0.453,0.302,0.756 0,0,0,3.275,0,3.275 0,0.554,-0.504,1.058,-1.108,1.058 -0.604,0,-1.108,-0.453,-1.108,-1.058 0,0,0,-0.756,0,-0.756 0,0,-2.619,2.519,-2.619,2.519 -0.201,0.202,-0.504,0.302,-0.806,0.302 -0.252,0,-0.554,-0.101,-0.756,-0.302 0,0,-1.662,-1.612,-1.662,-1.612 0,0,-3.073,2.923,-3.073,2.923 -0.201,0.202,-0.453,0.302,-0.756,0.302 -0.252,0,-0.554,-0.101,-0.756,-0.302 -0.252,-0.202,-0.353,-0.453,-0.353,-0.756 0,-0.302,0.101,-0.554,0.302,-0.756 0,0,3.828,-3.628,3.828,-3.628 0.201,-0.202,0.504,-0.302,0.806,-0.302 0.252,0,0.554,0.101,0.756,0.302 0,0,1.713,1.562,1.713,1.562 0,0,1.813,-1.764,1.813,-1.764 0,0,-0.856,0,-0.856,0 -0.604,0,-1.108,-0.504,-1.108,-1.058 0,-0.554,0.504,-1.058,1.108,-1.058 0,0,0,0,0,0zM12.038,5.845">
          </path>
        </svg>
        <div class="flow-border union_1-border"></div>
      </div>

      <div class="flow-layer c">
        <svg class="c-svg">
          <title>c</title>
          <desc>Made with Flow.</desc>

          <path id="c-path" vector-effect="non-scaling-stroke"
            d="M7.507,15.42c1.914,0,3.376,-0.302,4.383,-0.907 0,0,-0.05,0,-0.05,0 0,0,0,-3.477,0,-3.477 -1.108,0.756,-2.217,1.109,-3.376,1.109 -1.31,0,-2.318,-0.403,-3.073,-1.159 -0.756,-0.756,-1.108,-1.814,-1.108,-3.175 0,-1.361,0.403,-2.469,1.209,-3.275 0.806,-0.806,1.864,-1.209,3.174,-1.209 1.159,0,2.217,0.353,3.224,1.058 0,0,0,-3.679,0,-3.679 -0.806,-0.454,-2.066,-0.705,-3.728,-0.705 -2.469,0,-4.434,0.705,-5.945,2.167 -1.461,1.411,-2.217,3.376,-2.217,5.896 0,2.167,0.705,3.931,2.066,5.291 1.411,1.361,3.174,2.066,5.441,2.066 0,0,0,0,0,0zM7.507,15.42">
          </path>
        </svg>
        <div class="flow-border c-border"></div>
      </div>

      <div class="flow-layer k">
        <svg class="k-svg">
          <title>k</title>
          <desc>Made with Flow.</desc>

          <path id="k-path" vector-effect="non-scaling-stroke"
            d="M9.22,21.77c0,0,5.19,0,5.19,0 0,0,-5.794,-7.761,-5.794,-7.761 0,0,5.442,-6.954,5.442,-6.954 0,0,-5.139,0,-5.139,0 0,0,-4.585,6.803,-4.585,6.803 0,0,-0.05,0,-0.05,0 0,0,0,-13.858,0,-13.858 0,0,-4.283,0,-4.283,0 0,0,0,21.77,0,21.77 0,0,4.283,0,4.283,0 0,0,0,-7.257,0,-7.257 0,0,0.05,0,0.05,0 0,0,4.887,7.257,4.887,7.257 0,0,0,0,0,0zM9.22,21.77">
          </path>
        </svg>
        <div class="flow-border k-border"></div>
      </div>

    </div>
  </div>
</template>

<script>
export default {
  props: {
    collapse: {
      type: Boolean,
      required: true
    }
  },
  components: {},
  data() {
    return {
      animations: [],
      timelineResourcesPath: '.',
      timeline: '',
      showStatus: false,
      animateTimer: null,
    };
  },
  computed: {},
  watch: {
    collapse() {
      this.clearAnimateTimer();
      this.collapse ? this.open() : this.close();
    }
  },
  created() {},
  mounted() {
    this.timeline = new TimelineTimeline(document, "#Timeline", this.timelineResourcesPath);
    this.initAnimations();

    if(this.collapse) {
      this.animations.forEach((animation) => {
        animation.currentTime = 1000;
        animation.pause();
      });
    }
  },
  methods: {
    initAnimations() {
      this.animations = this.timeline.createAllAnimations();
      this.animations.forEach((animation) => {
        animation.pause();
      });
    },
    open() {
      this.back(true, 0);
    },
    close() {
      this.back(false, 1000);
    },
    clearAnimateTimer() {
      clearTimeout(this.animateTimer);
      this.animateTimer = null;
    },
    back(status, count, range = 12) {
      if(count < 0 || count > 1000) {
        this.clearAnimateTimer();
        return;
      }

      this.animations.forEach((animation) => {
        count = status ? (count + 0.5) : (count - range);
        count = count >= 1001 ? 1001 : count;
        count = count <= -1 ? -1 : count;

        animation.currentTime = count;
        animation.pause();
      });

      range = range <= 1 ? 1 : range - 4;
      
      this.animateTimer = setTimeout(() => {
        this.back(status, count, range);
      }, status ? 20 : 30);
    },
  },
}
</script>
<style lang='scss' scoped>

</style>
<style src="./animate-file/driver.css"></style>
<style src="./animate-file/Timeline.css"></style>